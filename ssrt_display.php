<?php
// Log the request for debugging purposes
file_put_contents('ssrf_log.txt', $_SERVER['REMOTE_ADDR'] . ' - ' . $_GET['url'] . PHP_EOL, FILE_APPEND);

// Check if the 'url' parameter is set in the query string
if (isset($_GET['url'])) {
    // Get the URL from the query string
    $url = filter_var($_GET['url'], FILTER_SANITIZE_URL);

    // Fetch the contents of the URL
    $response = @file_get_contents($url);

    // Check if the response is valid
    if ($response !== false) {
        // Return the response
        echo '<pre>' . htmlspecialchars($response) . '</pre>';
    } else {
        echo 'Unable to fetch the URL.';
    }
} else {
    // Return a message if no URL is provided
    echo 'Please provide a URL parameter.';
}
?>